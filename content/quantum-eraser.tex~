\chapter{Quantum eraser with x-ray quanta}
\label{chap:quantum-eraser}


Quantum interference, the key concept in complementarity (gedanken)experiments, occurs whenever a quantum system can choose between several paths from a common initial state $|i\rangle$ to the same final state $|f\rangle$. The most famous interference experiment is Young's double-slit setup. As long as the path chosen by the particle through the double-slit remains unrevealed, one can observe interference fringes in a position measurement somewhere behind the slits. According to the complementarity principle, a detector capable of determining the path taken by the particle through the double-slit (and supply {\it which-way} information) will destroy the interference pattern. The physical mechanism via which the interference is lost typically relies on random classical momentum kicks which are introduced by the detector revealing {\it which-way} information in the system \cite{BohrEinstein}. This is however not always the case. In more recent quantum optics experiments, the path chosen by the particle, this time an atom or ion, can be marked by  employing further degrees of freedom related to their internal, quantum structure. In this case, even if the acquisition of {\it which-way} information involves a momentum kick, this is a coherent quantum process rather than a classical random one. While the interference disappears due to this marking, one can later choose to ``erase'' the {\it which-way} information and restore the interference behavior, in a process first proposed in Ref.~\cite{eraser1982} and illustratively called {\it quantum eraser}. If the instant of erasure is chosen such that it occurs only after detection of the particle (allowing determination of its earlier behavior as wave or particle) one speaks of a delayed-choice quantum eraser \cite{delayed2000,delayed2014}.

%The basic elements of a quantum eraser, so enumerated in Ref.~\cite{Zeilinger1995} are individual interfering quantum systems, a method of introducing which-path information, and a method of subsequently erasing this information in order to restore the interference. Various realizations of the quantum eraser in more or less traditional systems have been reported so far. First experiments in this direction employed entangled optical photon pairs for the study of interference \cite{Zeilinger1995} and momentum-position complementarity \cite{Ou1990,Zajonc1991,Kwiat1992}, while later on also more exotic systems have been employed or envisaged, for instance, mesoscopic systems \cite{Hans1998,mesoScience2014}, kaons \cite{kaons2004}, nuclear spins \cite{nmr2001}, continuous-variable quantum erasing using field quadrature amplitude and phases \cite{Leuchs2004} or ultrafast quantum emitters in microcavities \cite{Savasta2011}. We note that most of these setups address the position-momentum complementarity, with  few exceptions \cite{Zeilinger1995,kaons2004,Leuchs2004}. 

Complementarity is closely related to Heisenberg's uncertainty relations \cite{Heisenberg1927}  that describe the limitations on the possible accuracy of classical measurements of a quantum system. Over the years, the dilemmas of complementarity gedankenexperiments such as Einstein's recoiling-slit experiment \cite{BohrEinstein} or Feynman's electron-light scattering scheme \cite{Feynman} were solved invoking the position-momentum uncertainty relation \cite{Heisenberg1927}, prompting the question whether complementarity is always enforced by the uncertainty relations. A vivid theoretical debate \cite{Scully1991.N,Storey1994.N,replyScully,replyStorey,commentWiseman} as well as several experiments \cite{Eichmann1993,Duerr1998,Mir2007} showed that complementarity is more fundamental than the uncertainty relation, i.e., one can find cases in which the effect of Heisenberg's uncertainty relations is not sufficient to justify the occurring complementarity.

%Most of the quantum-eraser studies have been concerned so far with the position-momentum complementarity \cite{}, with only a few exceptions. 
%As the position-momentum uncertainty relation is closely connected to these investigations
Analogously to position and momentum, the time-energy complementarity relation has as counterpart the time-energy uncertainty relation, $\Delta E\Delta t\ge \hbar/2$. We recall that the latter, although generally accepted as valid, does not rely on the same mathematical basis as other uncertainty relations, i.e., it is not a direct 
mathematical consequence of the replacement of classical numbers by operators. Time is not an operator in quantum mechanics, it is just a parameter.
 Although from the theoretical and philosophical side the debates on the concept of time in quantum mechanics are ongoing \cite{Bohm1961,Kijowski1974,Muga2000,Vona2013}, there are only few experiments with quantum particles which do not involve time-related measurements. A number of double-slit-type setups recording interference between paths differing in time rather than spatially have been investigated both theoretically and experimentally. These include a double-slit experiment in the time-energy domain where the slits are related to different time windows of attosecond duration \cite{attoslit2005,sfaslit2006,attoslit2006},  a streaking temporal double-slit in an orthogonal two-color laser field \cite{Doerner2015}, vacuum-mediated interference in atomic resonant fluorescence \cite{Kiffner2006} or oscillations of M\"ossbauer neutrinos \cite{Akhmedov2009}.

In this Chapter, we investigate theoretically a quantum eraser setup exploiting the complementarity between time and energy in a so-far unexplored parameter regime. The novelty arises from the use of hard x-ray quanta instead of optical or infrared photons.
%X-rays are no longer resonant to valence electron transitions in atoms or ions, but rather to  inner shell electron transitions in (highly) charged ions \cite{Young2010.N,Kanter2011.PRL,Rohringer2012}, or transitions in atomic nuclei \cite{Buervenich2006,rohlsberger2012electromagnetically}. 
We envisage interference occurring in driving the  14.4 keV M\"ossbauer transition in $^{57}\mathrm{Fe}$ by x-rays from a synchrotron radiation (SR) source. Under the presence of a hyperfine magnetic field, the splitting of the ground and first excited states will lead to the indistinguishable excitation of two transitions as shown in Fig.~\ref{fig:NFS-QE}(d) and to the detection of an interference pattern, the so-called quantum beats [see Fig.~\ref{fig:NFS-QE}(b)]. Subsequent manipulations of the x-ray photon polarization in a marking procedure leads to the disappearance of the interference. By appropriate quantum erasure of the which-way information, the interference pattern can be restored in a very similar manner as explained in the original quantum eraser proposal \cite{Scully1991.N}. Due to their long coherence times, the use of nuclear transitions leads to very small relative values for the energy transfer occurring in the marking procedure compared to the actual photon energy, $\Delta E/E\sim 10^{-13}$. 

\begin{figure}
\centering
\includegraphics[width=1.0\linewidth]{pics/NFS-setup-eraser.pdf}
\caption{(a) Typical NFS setup with magnetic field $\bm{B}$. (b) NFS time spectrum for a thin target with quantum beat pattern (orange curve). (c) Nuclear level scheme of an individual ${}^{57}$Fe nucleus under hyperfine splitting. (d) Collective picture with a common ground state $G$ and excited levels $E_1$ and $E_2$ driven via the $\Delta M=0$ transitions.}
\label{fig:NFS-QE}
\end{figure}

The Chapter is structured as follows. Sec.~\ref{sec:NFS-interference} introduces the interference mechanisms in the course of nuclear forward scattering (NFS) leading to the interference spectra in the collective decay. Sec.~\ref{sec:quantum-eraser} continues with the description of the path marking techniques and describes two versions of quantum erasure. Numerical results are presented here for both discussed setups.


%------------------------------------------------------------------------------------%
\section{Interference mechanisms in NFS}
\label{sec:NFS-interference}

In order to obtain quantum interference  we exploit the collective effects rising in NFS of synchrotron radiation (SR) on M\"ossbauer solid-state samples (see Fig.~\ref{fig:NFS-QE}). Due to the recoilless excitation and decay of the nuclear excited state, as long as the initial and the final states are the same for all nuclei in the sample, it is impossible to pin-point which nucleus or nuclei were involved in the excitation. In this respect, we have here the generalized, $N$-scatterer version of Young's interference experiment with (optical) light 
scattered from two atoms \cite{Eichmann1993}. The collective excitation leads to directional scattering in the forward direction allowing a spatial separation of the coherent (collective) and incoherent (without interference) decays \cite{NFS-bible}. The collective coherent decay and consequently the interference effects occur in the forward direction as already explained in Chap.~\ref{chap:NFS}. 

%
%\begin{equation}
%E^{(+)} \propto \mathcal{E}_1 \e^{-\i \omega_1 t} + \mathcal{E}_2 \e^{-\i \omega_2 t}
%\end{equation}
%

A typical NFS setup is shown in Fig.~\ref{fig:NFS-QE}(a). The x-rays, typically from a SR source monochromatized to the nuclear transition energy, propagate along the $y$-direction and impinge on the nuclear sample with an incident angle of $90^{\circ}$. The radiation is linearly polarized with $x$-($z$-)polarized light denoted as $\sigma$-($\pi$-)polarization by convention \cite{Siddons1999.HI}.  The time spectrum of the resonantly scattered radiation is detected in the forward direction. The nuclear response occurs on a much longer time scale than the x-ray pulse duration and the non-resonant, electronic response, allowing for time gating of the signal \cite{Roehlsberger2004}. Due to the typically narrow nuclear resonances and the low brilliance of x-ray sources, at most one nucleus can be excited in the sample per pulse (see also Chap.~\ref{chap:NFS}). 

The most used nuclear transition in NFS is the one connecting the stable ground state of $^{57}$Fe (nuclear spin $I_g=1/2$) with the the first excited state (nuclear spin $I_e=3/2$, mean lifetime $\tau$=141~ns) at 14.413 keV.  The recoilless nature of this transition in solid-state nuclear targets leads to the formation of a delocalized, collective excitation which decays coherently into the forward direction leading to a relative speed-up and enhancement of the NFS yield (see Chap.~\ref{chap:NFS}). The formation of the exciton can be interpreted as an interference effect for the scattering of the resonant photon or photons off a collection of $N$ nuclei. As long as the identity of the interacting nucleus is not revealed, for instance via spin flip, recoil or an internal conversion electron, the collective excitation occurs. 
%This is the $N$-scatterer generalization of the interference effects observed in Ref.~\cite{Eichmann1993}.

In the presence of a nuclear hyperfine magnetic field, the ground and excited nuclear states undergo Zeeman splitting according to their spin values as illustrated in the inset of Fig.~\ref{fig:NFS-QE}(c). Due to the Fourier limit of the temporally narrow incident x-ray pulses, several polarization-selected hyperfine transitions can be simultaneously driven  leading to well-known quantum beats in the NFS intensity spectrum \cite{NFS-bible}. For instance, initially $\sigma$-($\pi$-)polarized x-rays couple to all $\Delta M=0$ ($\Delta M=\pm1$) transitions provided the magnetic field $\bm{B}$ points along the $z$-direction. Since only those photons are coherently scattered into the forward direction for which the nucleus returns  to its original ground state Zeeman level, the $\sigma$-($\pi$-)polarization is conserved in the course of NFS with constant hyperfine field $\bm{B}_{\mathrm{I}}$ (see Sec.~\ref{sec:pol-static}). In such a setup, the quantum mechanical state of a single nucleus can in general be expressed as the following superposition
%
\begin{equation}
\ketm{\Psi} = \sum_{i=1}^2 \Big( c_{e_i} \ketm{e_i,0} + c_{g_i} \ketm{g_i,0} \Big) + c_1 \ketm{g_1, 1_{\omega_1}} + c_2 \ketm{g_2, 1_{\omega_2}}\ ,
\end{equation}
%
where \ket{g_i,0} and \ket{e_i,0} ($i=1,2$) represent the states with a ground or excited nuclear sublevel, respectively, and the radiation field in vacuum, \ket{g_i, 1_{\omega_i}} ($i=1,2$) denote the states after the reemission process in the course of NFS involving one photon with either frequency $\omega_1$ or $\omega_2$, and $c_{g_i}$, $c_{e_i}$ and $c_{i}$ ($i=1,2$) are the corresponding probability coefficients. According to the full quantum mechanical description, the two $\Delta M=0$ transitions do not interfere for a single nucleus due to the different initial and final states involved. The beat pattern between $\omega_1$ and $\omega_2$ evaluates in this case to
%
\begin{align}
\mem{\Psi}{E_1^{(-)} E_2^{(+)}}{\Psi} 
& \propto \mem{g_1, 1_{\omega_1}}{a_1^{\dagger} a_2 \e^{\i(\omega_1-\omega_2)t}}{g_2, 1_{\omega_2}} \nonumber \\
& \propto \mem{1_{\omega_1}}{a_1^{\dagger} a_2}{1_{\omega_2}}  \e^{\i(\omega_1-\omega_2)t} \langle g_1 | g_2 \rangle \nonumber \\
& \propto \e^{\i(\omega_1-\omega_2)t} \underbrace{\langle g_1 | g_2 \rangle}_{=0} \ ,
\end{align}
%
where the field operators $E_i^{(\pm)}$ are proportional to $a_i \e^{-\i \omega_i t}$ and $a_i^{\dagger}\e^{\i \omega_i t}$, respectively, with $a_i$ and $a_i^{\dagger}$ being the photon creation and annihilation operators belonging to frequency $\omega_i$ ($i=1,2$). The beat pattern disappears for a single nucleus because the Zeeman levels $g_1$ and $g_2$ are orthogonal to each other, $\langle g_1 | g_2 \rangle=0$.

In an ensemble of many nuclei collective effects come into play. In this case, the two $\Delta M=0$ transitions are connected by the collective ground state which contains nuclei on both hyperfine levels,
%
\begin{equation}
 | G \rangle =\underbrace{| g_{1}^{(1)}\rangle \ldots |g_{1}^{(N_1)} \rangle}_{N_1} \underbrace{| g_{2}^{(N_1+1)}\rangle \ldots |g_{2}^{(N)} \rangle}_{N_2}\ ,
\label{ground}
\end{equation}
% 
where $| g_{1}\rangle$ and $| g_{2}\rangle$ denote the two ground magnetic sublevels and $N_i$ is the number of nuclei in the ground state $| g_{i}\rangle \, (i\in{1,2})$ with $N_1+N_2=N$. At room temperature, typically $N_1\approx N_2$.
The excited state on the other hand can be described as a timed Dicke state  \cite{Scully2009.superradiance}
%
\begin{equation}
 | E_{\mu} \rangle =\frac{1}{\sqrt{N_{\mu}}}\sum_{n}^{N_{\mu}}\e^{\i\bm{k} \cdot \bm{r}_n}|g_{1}^{(1)}\rangle \ldots |e_{\mu}^{(n)} \rangle \ldots | g_{2}^{(N)}\rangle\ ,
\label{excited}
\end{equation}
%
in which the $n^{\rm{th}}$ nucleus has been excited via the transition $\mu$, with the notation $\mu=1$ for the transition $M_g=1/2\rightarrow M_e=1/2$ and $\mu=2$ for $M_g=-1/2\rightarrow M_e=-1/2$, depending on the initial ground state spin projection $M_g$. The position of the excited nucleus is given by $\bm{r}_n$ and $\bm{k}$ represents the wave vector of the resonant incident x-ray field. The scattering channels with $\Delta M=0$ are equivalent in this system to the  transitions $|G\rangle \rightarrow |E_1\rangle$ and $|G\rangle \rightarrow |E_2\rangle$, as illustrated in the inset panel in Fig.~\ref{fig:NFS-QE}(d). 

We show in the following that interference effects can occur in this setup (see Ref.~\cite{ScullyZubairy}). Having at most one excitation inside the nuclear ensemble, the general state of the system can be written as
%
\begin{equation}
\ketm{\Psi_{\rm{coll}}} = \sum_{i=1}^2 C_{E_i} \ketm{E_i,0} + C_{G} \ketm{G,0} + C_1 \ketm{G, 1_{\omega_1}} + C_2 \ketm{G, 1_{\omega_2}}
\end{equation}
%
with $C_{E_i}$, $C_G$ and $C_i$ representing the probability amplitudes for being in \ket{E_i,0}, \ket{G,0} and \ket{G_i,1_{\omega_i}} ($i=1,2$), respectively. Following the same steps as in the case of a single nucleus, we obtain
%
\begin{align}
\mem{\Psi_{\rm{coll}}}{E_1^{(-)} E_2^{(+)}}{\Psi_{\rm{coll}}} 
& \propto \mem{G,1_{\omega_1}}{a_1^{\dagger} a_2 \e^{\i(\omega_1-\omega_2)t}}{G,1_{\omega_2}} \nonumber \\
& \propto \e^{\i(\omega_1-\omega_2)t} \underbrace{\langle G | G \rangle}_{=1}\ .
\end{align}
%
Here, we observe a beat pattern since the two $\Delta M=0$ transitions are connected via the common ground state \ket{G}.
This is equivalent with the coherent addition of classical fields, that we introduced in Chap.~\ref{chap:NFS} and that we will use in the following.


%\begin{equation}
%\ketm{\Psi_V} = \sum_{i=1}^2 c_{e_i} \ketm{e_i,0} + c_{g} \ketm{g,0} + c_1 \ketm{g, 1_{\omega_1}} + c_2 \ketm{g, 1_{\omega_2}}
%\end{equation}

%\begin{align}
%\mem{\Psi_V}{E_1^{(-)} E_2^{(+)}}{\Psi_V} &\propto \mem{\Psi_V}{a_1^{\dagger} a_2 \e^{\i(\omega_1-\omega_2)t}}{\Psi_V} \nonumber \\
%& \propto \mem{1_{\omega_1}}{a_1^{\dagger} a_2}{1_{\omega_2}} \mem{g}{\e^{\i(\omega_1-\omega_2)t}}{g} \nonumber \\
%& \propto \e^{\i(\omega_1-\omega_2)t} \underbrace{\langle g | g \rangle}_{=1}
%\end{align}

%\begin{equation}
%\ketm{\Psi_{\Lambda}} = c_{e} \ketm{e,0} + \sum_{i=1}^2 c_{g_i} \ketm{g_i,0} + c_1 \ketm{g_1, 1_{\omega_1}} + c_2 \ketm{g_2, 1_{\omega_2}}
%\end{equation}

%\begin{align}
%\mem{\Psi_{\Lambda}}{E_1^{(-)} E_2^{(+)}}{\Psi_{\Lambda}} &\propto \mem{\Psi_{\Lambda}}{a_1^{\dagger} a_2 \e^{\i(\omega_1-\omega_2)t}}{\Psi_{\Lambda}} \nonumber \\
%& \propto \mem{1_{\omega_1}}{a_1^{\dagger} a_2}{1_{\omega_2}} \e^{\i(\omega_1-\omega_2)t} \underbrace{\langle g_1 | g_2 \rangle}_{=0}
%\end{align}




%------------------------------------------------------------------------------------%
\section{Which-way information and quantum eraser}
\label{sec:quantum-eraser}


The occurrence of the quantum beat pattern in the course of NFS can be explained in analogy to a double-slit setup. Instead of the interference of two spatial path ways like in a conventional double-slit experiment, the quantum beat pattern in the course of NFS is caused by the interplay between the frequency paths contributing to the scattering process, e.g., $\omega_{1,\dots,6}$ in the case of ${}^{57}$Fe [see Fig.~\ref{fig:NFS-QE}(b)]. In the following we will restrict ourselves to the interference of the two $\Delta M=0$ transitions, $\omega_1$ and $\omega_2$.
We put forward two versions of a quantum eraser setup. The general idea of both is to first mark the originally interfering paths via orthogonal polarization states, leading to a wash-out of the interference fringes. By applying a projection to a different polarization basis which acts as a quantum eraser, the which-way information is lost and the interference fringes reappear.



%------------------------------------------------------------------------------------%
\subsection{Scheme 1: Two-target scenario}

The setup of scheme 1 consists of two ${}^{57}$Fe targets with magnetic fields $\bm{B}_1$ and $\bm{B}_2$, respectively, a high-speed shutter \cite{Toellner2011.shutter} behind the first target and a polarizer directly in front of the detectors, as illustrated in Fig.~\ref{fig:QE-two-targets}. In the following, we will describe the propagation of the SR pulse through this setup step by step. The essential building blocks of a quantum eraser will be identified and the required conditions evaluated.

\begin{figure}
\centering
\includegraphics[width=1.0\linewidth]{pics/QE-setup-small_new.pdf}
\caption{Quantum-eraser scheme 1. The $\sigma$-polarized synchrotron pulse is resonantly scattered off target 1 ($\bm{B}_1 \parallel \bm{e}_z$) via the two $\Delta M=0$ transitions. The high-speed shutter cuts the SR pulse such that the incoming radiation field at target 2 is solely the nuclear response of target 1. Following the nuclear scattering off target 2 ($\bm{B}_2 \parallel \bm{e}_y$) a polarizer splits the $\sigma$- and $\pi$-polarization components.}
\label{fig:QE-two-targets}
\end{figure}


The incident SR pulse is considered to be $\sigma$-polarized initially and the magnetic field at target 1 is chosen to point along the $z$-direction such that only the two $\Delta M=0$ transitions are driven. For the considered B-field geometry the $\sigma$-polarization is conserved in the course of the nuclear resonance scattering as explained in Sec.~\ref{sec:pol-static}. Under the action of the applied hyperfine field, target 1 adopts essentially the role of the double slit in the original quantum eraser proposal \cite{Scully1991.N}, imprinting the quantum beat pattern on the scattered field.

Fig.~\ref{fig:QE-scheme2-1} shows the time spectrum of the forward scattered intensity directly behind target 1. Due to the two scattering paths in frequency space, $\ell=-2$ and $\ell=2$ (following the notation of Chap.~\ref{chap:pol-control}), the quantum beat interference pattern appears in the time spectrum. Apart of the interference between the $\Delta M=0$ channels, the dynamical beat modulation caused by multiple scattering events inside the sample is also visible in the intensity spectrum. In the calculation presented in Fig.~\ref{fig:QE-scheme2-1}, an effective target thickness for sample 1 of $\xi_1=7$ has been considered.

\captionsetup[subfigure]{position=top}
\begin{figure}%
\centering
\subfloat[Target 1]{\label{fig:QE-scheme2-1}\includegraphics[width=0.5\linewidth]{pics/QE-target1_new.eps}}%
%\hspace{2pt}%
\subfloat[Shutter + Target 2]{\label{fig:QE-scheme2-2}\includegraphics[width=0.5\linewidth]{pics/QE-target2_new.eps}}%
%\hspace{12pt}%
\caption{(a) NFS intensity spectrum $|\bm{E}(\xi,\tau)|^2$ directly behind target 1.
The scattering via the two $\Delta M=0$ transitions results in the characteristic quantum beat pattern. Due to the shutter only photons emitted in the time window from 7~ns until 74~ns [region between blue dashed lines in (a), blue curve in (b)] reach target 2. (b) The magnetic field $\bm{B}_2$ is chosen such that the interference between the $\Delta M=0$ frequency components is destroyed in the intensity spectrum $|\bm{E}(\xi,\tau)|^2$ (red curve) directly behind target 2.
Effective thicknesses of $\xi_1=\xi_2=7$ and a maximal scattering order of $p_{\rm{max}}=19$ have been considered in the calculations.}
\label{fig:QE-scheme2-marker}
\end{figure}

The effect of the shutter behind target 1 is to select a certain time window of the scattered field. This time window can be controlled by the shutter properties like the diameter, the width or the position of the slit, and by the applied rotation frequency \cite{Toellner2011.shutter}. In Fig.~\ref{fig:QE-scheme2-2} for instance, we assumed that only photons emitted from $t_0=7$~ns until $t_1=74$~ns are able to pass the shutter and to reach the second target. The choice of $t_0>0$ also removes the broadband SR pulse which behaves essentially $\delta$-like in time in comparison to the nuclear response. In frequency space, the high-speed shutter creates two spectrally narrow x-ray pulses at frequencies $\omega_1=\omega_0-\Omega_2$ and $\omega_2=\omega_0+\Omega_2$, respectively, by inverting the two $\Delta M=0$ absorption dips. 
Note that due to the broadband nature of SR light and the narrow nuclear transition widths, typically at most a single resonant x-ray photon is involved in the scattering process, either with freuqency $\omega_1$ or $\omega_2$.

The magnetic field at the second iron target points along the $y$-axis which is the direction of propagation. This is known as the Faraday geometry and in this case only $\Delta M=\pm1$ transitions are allowed according to angular momentum conservation. Photons emitted via the $\Delta M=+1$ and $\Delta M=-1$ are right and left circularly polarized, respectively. The idea on how to delete the interference pattern imprinted at target 1 is to tune the strengths of the magnetic fields $B_1$ and $B_2$ such that the spectrally narrow peaks impinging on target 2 are marked with orthogonal circular polarizations. One choice is to set the conditions $\omega_1^{(1)} = \omega_3^{(2)}$ and $\omega_2^{(1)} = \omega_6^{(2)}$. By using Eqs.~\eqref{eq:NFS_Hamiltonian-hf-static} and \eqref{eq:NFS_omegal} we obtain
%
\begin{equation}
\frac{B_1}{B_2} = \frac{\mu_{\rm{g}}/I_{\rm{g}}+\mu_{\rm{e}}/I_{\rm{e}}}{\mu_{\rm{g}}/I_{\rm{g}}-\mu_{\rm{e}}/I_{\rm{e}}}\ ,
\end{equation}
%
where $\mu_{\rm{g}}$ and $\mu_{\rm{e}}$ denote the magnetic moment of the ground and the excited states, respectively. In terms of the nuclear magneton $\mu_{\rm{n}}$, the magnetic moments of ${}^{57}$Fe are given by $\mu_{\rm{g}}=0.09044\, \mu_{\rm{n}}$ and $\mu_{\rm{e}}=-0.1549\, \mu_{\rm{n}}$ \cite{ENSDF}. In the same manner, one can impose $\omega_1^{(1)} = \omega_5^{(2)}$ and $\omega_2^{(1)} = \omega_4^{(2)}$ which can be realized by
%
\begin{equation}
\frac{B_1}{B_2} = \frac{\mu_{\rm{g}}/I_{\rm{g}}-3\mu_{\rm{e}}/I_{\rm{e}}}{\mu_{\rm{g}}/I_{\rm{g}}-\mu_{\rm{e}}/I_{\rm{e}}}\ .
\end{equation}
%

The intensity spectrum behind target 2 shown in Fig.~\ref{fig:QE-scheme2-2} is calculated with Zeeman splittings of $\epsilon_{\rm{g}}^{(1)} \approx 48\, \Gamma_0$ and $\epsilon_{\rm{e}}^{(1)} \approx -27\, \Gamma_0$ at target 1, and $\epsilon_{\rm{g}}^{(2)} \approx 28\, \Gamma_0$ and $\epsilon_{\rm{e}}^{(2)} \approx -16\, \Gamma_0$ at target 2, corresponding to the case where $\omega_1^{(1)} = \omega_5^{(2)}$ and $\omega_2^{(1)} = \omega_4^{(2)}$ [see Eqs.~\eqref{eq:NFS_Hamiltonian-hf-static} and \eqref{eq:NFS_omegal}]. Moreover, an effective thickness of $\xi_2=7$ has been considered. As can be seen from Fig.~\ref{fig:QE-scheme2-2}, for photons interacting with both targets the \textit{which-way} information is successfully obtained, destroying the interference pattern. The condition of double interaction is certainly fulfilled at times larger than $t_1$ such that the quantum beat completely disappears in this region. Only the dynamical beat signature remains in the intensity spectrum with small oscillations coming from interactions with off-resonant transitions.


\begin{figure}%
\centering
\subfloat{\label{fig:QE-scheme2-3a}\includegraphics[width=0.5\linewidth]{pics/QE-pol_new.eps}}%
\subfloat{\label{fig:QE-scheme2-3b}\includegraphics[width=0.4625\linewidth]{pics/QE-pol-zoom_new.eps}}
\caption{The $\sigma$- (orange curve) and $\pi$-components (blue curve) of the intensity spectrum $|\bm{E}(\xi,\tau)|^2$ are shown. While the left graph covers the region from 0 to 500~ns, the right graph zooms into the time window between 80 and 190~ns. In the calculations scattering orders up to $p_{\rm{max}}=19$ have been taken into account.}
\label{fig:QE-scheme2-eraser}
\end{figure}

After the successful marking of the scattering paths with orthogonal polarizations the question arises, how to erase again the \textit{which-way} information obtained by the resonant scattering off the second target? Since the two scattering paths are marked with circular polarizations, a polarizer projecting on the linear polarization basis $\bm{e}_{\sigma}$ and $\bm{e}_{\pi}$ destroys the orthogonality and restores the interference pattern as shown in Fig.~\ref{fig:QE-scheme2-eraser}. The left graph of Fig.~\ref{fig:QE-scheme2-eraser} presents the intensity spectrum at detector 1 (orange curve) and detector 2 (blue curve) over the whole time range employed in Fig.~\ref{fig:QE-scheme2-marker}, whereas the right graph of Fig.~\ref{fig:QE-scheme2-eraser} zooms into the time region between 80 ns and 190 ns. In the latter, the relative shift between the $\sigma$- and the $\pi$-components of a quarter of a beating period can be clearly seen. The $\sigma$- and $\pi$-polarized parts take the role of the fringes and anti-fringes introduced in Ref.~\cite{Scully1991.N}.

As seen by the small oscillations in Fig.~\ref{fig:QE-scheme2-2}, the marking via orthogonal polarizations is slightly distorted due to off-resonant interactions. In order to minimize the latter, the incoming spectrally narrow peaks as well as the absorption lines need to be well separated in frequency space, involving high magnetic fields.
%In order to achieve these splittings, very high magnetic fields are involved which may be difficult to realize in laboratory. 
In the calculations presented in Figs.~\ref{fig:QE-scheme2-marker} and \ref{fig:QE-scheme2-eraser}, for instance, magnetic field strengths of $B_1\approx39$~T and $B_2\approx23$~T have been considered in order to obtain the intended hyperfine splittings.
Since such high magnetic field strengths are difficult to realize in laboratory,
%Apart from adjusting the relative magnitudes, it may be even difficult to realize such high magnetic field strengths in laboratory at all.
it is worth to explore if a quantum eraser scenario is also feasible in a setup where a strong internal hyperfine field can be employed, e.g. by using antiferromagnetic FeBO$_3$ crystals.



%------------------------------------------------------------------------------------%
\subsection{Scheme 2: Interferometer-like setup}

Instead of using two targets in a sequence, it is also possible to realize a quantum eraser scheme by employing an x-ray interferometer setup involving two spatially separated targets, one in each interferometer arm. The general idea is to apply a time delay in one of the arms such the a relative phase is imprinted. Considering for instance a geometry where only the two $\Delta M=0$ transitions, $\omega_1$ and $\omega_2$, are driven, it turns out that a time delay in one of the arms produces a phase shift for each frequency component exactly opposite in sign. How this phase shift can be employed to destroy and recover the quantum beat pattern of NFS is explained in the following.

The x-ray interferometer we are considering is schematically presented in Fig.~\ref{fig:QE-interferometer}. In comparison to a conventional Mach-Zehnder-interferometer, a peculiarity here is the initial polarizer which splits the $\sigma$-polarized component from the $\pi$-polarized part.
%Practically, such x-ray polarizers can be accomplished by crystal reflections in either Laue or Bragg geometry (?) \cite{}. In the special case of 14.4 keV photons, ... have been applied very successfully to obtain polarization purities of .... 
After the polarizer, the split beam interacts with two nuclear samples, one in each interferometer arm, in the presence of the magnetic fields $\bm{B}_1$ and $\bm{B}_2$, respectively. The $\pi$-polarized pulse furthermore experiences a time delay $\Delta\tau$ in comparison to the $\sigma$-polarized counterpart, before reaching target 2. Finally, both spatially separated arms come together at a beam splitter (BS) \cite{Osaka2013.OE} where they are recombined.

\begin{figure}
\centering
\includegraphics[width=0.7\linewidth]{pics/QE-time-delay-4.pdf}
\caption{Quantum-eraser scheme 2. The incoming x-ray photon is split into its $\sigma$- and $\pi$-polarized components by a polarizer. The split beams are later on mixed with the help of two mirrors and a beam splitter (BS). In each arm a nuclear ${}^{57}$Fe target is inserted. The two targets experience the magnetic fields $\bm{B}_1$ and $\bm{B}_2$, respectively. A relative time delay between arm 1 and 2 is introduced.}
\label{fig:QE-interferometer}
\end{figure}

The interferometer system composed of a polarizer, two mirrors, two spatially separated nuclear targets and finally a beam splitter (BS) as shown in Fig.~\ref{fig:QE-interferometer} can be theoretically described in the following way \cite{Agarwal}
%
\begin{align}
\begin{pmatrix}
\bm{E}_{\rm{out-1}}^{(1)} \\
\bm{E}_{\rm{out-2}}^{(1)}
\end{pmatrix}
=
\frac{1}{2}
\underbrace{
\begin{pmatrix}
1 & \i \\
\i & 1
\end{pmatrix}
}_{\textrm{``BS''}}
\underbrace{
\begin{pmatrix}
-1 & 0 \\
0 & -1
\end{pmatrix}
}_{\textrm{``mirrors''}}
\underbrace{
\begin{pmatrix}
\psi_1 & 0 \\
0 & \psi_2
\end{pmatrix}
}_{\textrm{``targets''}}
\underbrace{
\begin{pmatrix}
\ketm{\sigma}\bram{\sigma} & 0 \\
0 & \ketm{\pi}\bram{\pi}
\end{pmatrix}
\begin{pmatrix}
1 & \i \\
\i & 1
\end{pmatrix}
}_{\textrm{``polarizer''}}
\begin{pmatrix}
\bm{E}_{\rm{in}} \\
0
\end{pmatrix}\ .
\label{eq:QE-interferometer}
\end{align}
%
Here, $\bm{E}_{\rm{in}}$ represents the incoming synchrotron pulse and $\bm{E}_{\rm{out-1}}^{(1)}$ and $\bm{E}_{\rm{out-2}}^{(1)}$ the output at detector 1 and 2, respectively, in the single scattering approximation.
Considering the synchrotron pulse initially in an arbitrary linear polarization state, as given by the superposition in Eq.~\eqref{eq:super-input} with $\alpha,\beta \in \mathbb{R}$ and normalization $\alpha^2+\beta^2=1$, and performing the matrix multiplications occurring in Eq.~\eqref{eq:QE-interferometer}, we obtain 
%
\begin{align}
\begin{pmatrix}
\bm{E}_{\rm{out-1}}^{(1)} \\
\bm{E}_{\rm{out-2}}^{(1)}
\end{pmatrix}
=
\frac{1}{2}
\begin{pmatrix}
-\alpha{\bm{E}^{(1)}}^{\sigma}(\xi,\tau) + \beta{\bm{E}^{(1)}}^{\pi}(\xi,\tau) \\
-\i \alpha{\bm{E}^{(1)}}^{\sigma}(\xi,\tau) - \i \beta{\bm{E}^{(1)}}^{\pi}(\xi,\tau)
\end{pmatrix}\ .
\label{eq:E-out}
\end{align}
%
Following the notation of Chap.~\ref{chap:logical-gates}, ${\bm{E}^{(1)}}^{\sigma}$ and ${\bm{E}^{(1)}}^{\pi}$ denote the first order contributions originating from the initially $\sigma$- and $\pi$-polarized component, respectively. Important to remark is that we only consider thin targets in this section such that the single scattering approximation is always the dominating contribution of the forward scattered field. Moreover, the time delay $\Delta\tau$ was not yet accounted for in Eqs.~\eqref{eq:QE-interferometer} and \eqref{eq:E-out}. It is later on incorporated into the nuclear response ${\bm{E}^{(1)}}^{\pi}$ coming from target 2.

So far, the description in Eq.~\eqref{eq:E-out} is rather general, as neither the incident radiation pulse nor the B-field geometry have been fixed. Since we consider two spatially separated nuclear targets, the magnetic fields at each individual sample can be chosen independently of each other.
In the following, we now first choose the magnetic fields $\bm{B}_1$ and $\bm{B}_2$ such that only the $\Delta M=0$ transitions are driven in both targets. Explicitly, this can be achieved by a magnetic field $\bm{B}_1$ at target 1 parallel to the $z$-axis and $\bm{B}_2$ at target 2 parallel to the $x$-axis. The magnitudes of both are assumed to coincide. In order to evaluate the terms ${\bm{E}^{(1)}}^{\sigma}$ and ${\bm{E}^{(1)}}^{\pi}$ corresponding to the scattered field from each individual target, we employ the description of NFS introduced in Chaps.~\ref{chap:NFS} and \ref{chap:pol-control} where a semi-classical wave equation is used. According to Eq.~\eqref{eq:field-I}, the first order solutions for the considered geometry can be written as
%
\begin{align}
{\bm{E}^{(1)}}^{\sigma}(\xi,\tau) &= -\xi \Big\{ \bm{\mathcal{A}}^{{(1)}^{\mbox{\scriptsize$\sigma$}}}_{\ell=-2,\mathrm{I}}(\bm{k}) \e^{\i \Omega_{2} \tau} + \bm{\mathcal{A}}^{{(1)}^{\mbox{\scriptsize$\sigma$}}}_{\ell=2,\mathrm{I}}(\bm{k}) \e^{-\i \Omega_{2} \tau} \Big\} \e^{-\tau/2}  \nonumber \\
&= -\xi \frac{f_{\rm{LM}}}{2} \Big\{ \e^{\i \Omega_{2} \tau} + \e^{-\i \Omega_{2} \tau} \Big\} \e^{-\tau/2} \bm{e}_{\sigma}
\label{eq:E-target1}
\end{align}
%
and
%
\begin{align}
{\bm{E}^{(1)}}^{\pi}(\xi,\tau) &= -\xi \Big\{ \bm{\mathcal{A}}^{{(1)}^{\mbox{\scriptsize$\pi$}}}_{\ell=-2,\mathrm{I}}(\bm{k}) \e^{\i \Omega_{2} (\tau-\Delta\tau)} + \bm{\mathcal{A}}^{{(1)}^{\mbox{\scriptsize$\pi$}}}_{\ell=2,\mathrm{I}}(\bm{k}) \e^{-\i \Omega_{2} (\tau-\Delta\tau)} \Big\} \e^{-(\tau-\Delta\tau)/2}  \nonumber \\
&= -\xi \frac{f_{\rm{LM}}}{2} \Big\{ \e^{\i \Omega_{2} (\tau-\Delta\tau)} +\e^{-\i \Omega_{2} (\tau-\Delta\tau)} \Big\} \e^{-(\tau-\Delta\tau)/2} \bm{e}_{\pi}\ ,
\label{eq:E-target2}
\end{align}
%
where the amplitudes $\bm{\mathcal{A}}^{{(1)}^{\mbox{\scriptsize$\sigma$}}}_{\ell,\mathrm{I}}$ and $\bm{\mathcal{A}}^{{(1)}^{\mbox{\scriptsize$\pi$}}}_{\ell=,\mathrm{I}}$ are defined in Eq.~\eqref{eq:amplitude-I} following the notation of Eq.~\eqref{eq:super-A1-I}. Using the expressions for the nuclear hyperfine currents $\bm{j}_{\ell}^*$ and $\bm{j}_{\ell}$ provided in Eqs.~\eqref{eq:NFS_trans-ampl-M1}, the amplitudes are explicitly evaluated in the step from the first to the second line in Eqs.~\eqref{eq:E-target1} and \eqref{eq:E-target2}. Furthermore, the time delay $\Delta\tau$ is incorporated into the scattered field ${\bm{E}^{(1)}}^{\pi}$ originating from target 2 [see Eq.~\eqref{eq:E-target2}].

Inserting the NFS solutions of the individual targets [Eqs.~\eqref{eq:E-target1} and \eqref{eq:E-target2}] into Eq.~\eqref{eq:E-out}, leads to
%
\begin{align}
\bm{E}_{\rm{out-1}}^{(1)}(\xi,\tau)
%& \propto -\xi \Big\{ .... \e^{\i \Omega_{2} \tau} (\alpha\bm{e}_{\sigma} + \beta \e^{\Delta\tau/2} \e^{-\i \Omega_{2} \Delta\tau} \bm{e}_{\pi}) + .... \e^{-\i \Omega_{2} \tau} 
%\nonumber \\
%&\qquad \times
%(\alpha\bm{e}_{\sigma} + \beta \e^{\Delta\tau/2} \e^{\i \Omega_{2} \Delta\tau} \bm{e}_{\pi}) \Big\} \e^{-\tau/2} 
%\nonumber \\
& = -\xi \frac{f_{\rm{LM}}}{4} \Big\{ \e^{\i \Omega_{2} \tau} (-\alpha\bm{e}_{\sigma} + \beta' \e^{\i \Phi} \bm{e}_{\pi})
+ \e^{-\i \Omega_{2} \tau} (-\alpha\bm{e}_{\sigma} + \beta' \e^{-\i \Phi} \bm{e}_{\pi}) \Big\} \e^{-\tau/2} \ ,
\nonumber \\
\bm{E}_{\rm{out-2}}^{(1)}(\xi,\tau)
&= \i\xi \frac{f_{\rm{LM}}}{4} \Big\{ \e^{\i \Omega_{2} \tau} (\alpha\bm{e}_{\sigma} + \beta' \e^{\i \Phi} \bm{e}_{\pi})
+ \e^{-\i \Omega_{2} \tau} (\alpha\bm{e}_{\sigma} + \beta' \e^{-\i \Phi} \bm{e}_{\pi}) \Big\} \e^{-\tau/2} \ , 
\label{eq:E-out-general}
\end{align}
%
where we have introduced the phase $\Phi=\Omega_2 \Delta\tau$ and the coefficient $\beta'=\beta \e^{\Delta\tau/2}$. As seen from Eqs.~\eqref{eq:E-out-general}, the $\pi$ component experiences a relative phase shift of $\Phi$ in comparison to the $\sigma$-polarized part in the case of $\ell=-2$, while the phase shift is of opposite sign for $\ell=2$ (the notation of $\ell$ was introduced in Chap.~\ref{chap:pol-control}).

Let us first discuss the simplest scenario with zero time delay, $\Delta\tau=0$. In this case $\beta'$ reduces to $\beta$ and the phase $\Phi$ is identically zero such that the factor $\e^{\i\Phi}$ evaluates to one. The polarization response of each frequency component follows the superposition state of the incident radiation $\bm{E}_{\rm{in}}$. Taking the modulus squared of $\bm{E}_{\rm{out-1}}^{(1)}$ and $\bm{E}_{\rm{out-2}}^{(1)}$, respectively, the intensity spectra at each detector have the same form given by,
%
\begin{equation}
I_{\rm{out}}^{(1)}(\xi,\tau)
= \xi^2 \frac{f_{\rm{LM}}^2}{8} \Big\{ 1 + \cos( 2\Omega_2 t ) \Big\} \e^{-\tau} \ .
\label{eq:I-out-zero-delay}
\end{equation}
%
As can be seen from Eqs.~\eqref{eq:I-out-zero-delay}, in the case of $\Delta\tau=0$ the quantum beat pattern represented by the cosine term is preserved in the intensity output. 
Since the interferometer arms are characterized by orthogonal polarizations in the considered scenario, there is no interference term between arm 1 and arm 2 occurring in the intensity spectra. For this reason, the signals at detectors 1 and 2 coincide and it is sufficient to discuss only one of the outputs whenever talking about intensities in the following.

In order to switch off the quantum interference between the two hyperfine transitions $\ell=-2$ and $\ell=2$, a nonzero time delay $\Delta\tau$ can be employed. The idea is to choose $\Delta\tau$ such that the two scattering channels in frequency space, $\ell=-2$ and $\ell=2$, are marked by orthogonal polarization states, e.g., left and right circularly polarized. Therefore, the condition $\frac{\beta'}{\alpha} \e^{\i\Phi} = \pm\i$ needs to be fulfilled. Since $\alpha$ and $\beta$ are chosen to be real, the only possible solution is to set $\Phi=(2n +1)\pi/2$ ($n=0,1,2,\dots$) and $\beta'=\alpha$. Choosing for instance $n=0$, the phase requirement $\Phi=\pi/2$ can be achieved by a time delay of $\Delta\tau = \pi/(2\Omega_2)$ corresponding to a quarter of the beating period. 
In order to get completely rid of the quantum beat, the initial polarization has to be slightly rotated away from $45^{\circ}$ ($\beta=\alpha$) in order to compensate for the exponential decay term $\e^{-\Delta\tau/2}$ ($\beta'=\alpha$).
Taking the normalization $\alpha^2 + \beta^2 = 1$ and the condition $\beta'=\alpha$ into account, it is possible to fix the incident polarization in dependence of the time delay $\Delta\tau$,
%
\begin{align}
\alpha(\Delta\tau) &= \sqrt{\frac{1}{\e^{-\Delta\tau} +1}}\ , \nonumber \\
\beta(\Delta\tau) &= \sqrt{\frac{1}{\e^{\Delta\tau} +1}}\ .
\label{eq:alpha-beta}
\end{align}
%

Evaluating Eqs.~\eqref{eq:E-out-general} for $\Phi=\pi/2$ and $\beta'=\alpha$, leads to the following field amplitudes at detector 1 and 2, respectively,
%
\begin{align}
\bm{E}_{\rm{out-1}}^{(1)}(\xi,\tau)
& = \xi \alpha \frac{f_{\rm{LM}}}{4} \Big\{ \e^{\i \Omega_{2} \tau} (\bm{e}_{\sigma} - \i \bm{e}_{\pi})
+ \e^{-\i \Omega_{2} \tau} (\bm{e}_{\sigma} + \i \bm{e}_{\pi}) \Big\} \e^{-\tau/2} \ ,
\nonumber \\
\bm{E}_{\rm{out-2}}^{(1)}(\xi,\tau)
& = \i\alpha \xi \frac{f_{\rm{LM}}}{4} \Big\{\e^{\i \Omega_{2} \tau} (\bm{e}_{\sigma} + \i \bm{e}_{\pi})
+ \e^{-\i \Omega_{2} \tau} (\bm{e}_{\sigma} - \i \bm{e}_{\pi}) \Big\} \e^{-\tau/2} \ .
\label{eq:E-out-QE}
\end{align}
%
Since the phase shift $\Phi$ is of opposite sign for the two frequency slits $\ell=-2$ and $\ell=2$, each slit is marked by orthogonal polarization states, in Eqs.~\eqref{eq:E-out-QE} for instance, $\bm{e}_{-}$ for $\ell=-2$ and $\bm{e}_{+}$ for $\ell=2$ in the case of $\bm{E}_{\rm{out-1}}$, and vice versa in the case of $\bm{E}_{\rm{out-2}}$. 
As the orthogonal polarizations store the \textit{which-way} information of the scattering process, the interference between the $\Delta M=0$ hyperfine transitions should vanish in the intensity spectra at the detectors. In order to prove this, we calculate $I_{\rm{out-1}}^{(1)}$ and $I_{\rm{out-2}}^{(1)}$ in the same manner as for zero time delay, resulting in
%
\begin{equation}
I_{\rm{out}}^{(1)}(\xi,\tau)
= \xi^2 \frac{f_{\rm{LM}}^2}{8} \e^{-\tau} \ .
\label{eq:I-out-QE}
\end{equation}
%
In comparison to Eqs.~\eqref{eq:I-out-zero-delay}, the quantum beats represented by the cosine function disappeared as expected.


\captionsetup[subfigure]{position=top}
\begin{figure}%
\centering
\subfloat[Quantum beat]{\label{fig:QE-initial}\includegraphics[width=0.33\linewidth]{pics/QE-0.eps}}%
%\hspace{2pt}%
\subfloat[Which-way, $\Phi=\frac{\pi}{2}$]{\label{fig:QE-inter}\includegraphics[width=0.33\linewidth]{pics/QE-delay.eps}}%
%\hspace{12pt}%
\subfloat[Erasing]{\label{fig:QE-final}\includegraphics[width=0.33\linewidth]{pics/QE-eraser.eps}}%
\caption{Quantum eraser via a relative time delay. (a) The individual targets exhibit the quantum beat pattern due to interference between the two $\Delta M=0$ transitions. (b) Employing a time delay corresponding to $\Phi=\pi/2$ marks the scattering paths with orthogonal polarizations, destroying the interference. (c) The \textit{which-way} information is erased and the interference is recovered by projecting onto the linear polarization basis, $\bm{e}_{\sigma}$ and $\bm{e}_{\pi}$.}
\label{fig:QE-time-delay}
\end{figure}


In Fig.~\ref{fig:QE-time-delay}, we show numerical results of the intensity spectra at detector 1 for the cases $\Phi=0$ [Fig.~\ref{fig:QE-initial}] and $\Phi=\pi/2$ [Fig.~\ref{fig:QE-inter}]. Scattering orders up to $p_{\rm{max}}=14$ have been included in the calculations. A detuning of $\Omega_2 \approx 28\, [\Gamma_0]$ due to Zeeman splitting (corresponding to the internal hyperfine field in FeBO$_3$) has been considered, resulting in $\Delta\tau/\Gamma_0=7.8$~ns for the special case of $\Phi=\pi/2$. Furthermore, the numerical results correspond to an effective target thickness $\xi=1$ and an incident polarization characterized by $\alpha=0.717$ and $\beta=0.697$ determined via the condition $\beta'=\alpha$ for the case of $\Phi=\pi/2$. Fig.~\ref{fig:QE-initial} shows that the quantum interference between the frequency slits $\ell=-2$ and $\ell=2$ is preserved for $\Delta\tau=0$ as already pointed out in Eqs.~\eqref{eq:I-out-zero-delay}.

In the case of $\Phi=\pi/2$, the frequency paths $\ell=-2$ and $\ell=2$ should not interfere anymore, because the marking via the orthogonal polarizations $\bm{e}_{-}$ and $\bm{e}_{+}$ contains the \textit{which-way} information (in frequency space) of the scattering process [see Eqs.~\eqref{eq:E-out-QE}]. This behavior is clearly confirmed in Fig.~\ref{fig:QE-inter} where the intensity spectrum displays a simple exponential decay (red curve) instead of the quantum beat interference pattern. 

In order to restore the quantum interference by erasing the \textit{which-way} information, a projection on the linear polarization basis (for instance with a polarizer) can be employed behind the beam splitter. 
Projecting on the $\sigma$- and $\pi$-polarization basis erases the \textit{which-way} information stored in the orthogonal polarizations $\bm{e}_{-}$ and $\bm{e}_{+}$, reproducing the quantum beat pattern. The resulting intensity spectra are presented in Fig.~\ref{fig:QE-final}. Following the lines of the quantum eraser concept \cite{Scully1991.N}, the relatively shifted intensity spectra for the $\sigma$ and $\pi$ components can be interpreted as fringes and anti-fringes.

So far, we consider the time delay $\Delta\tau$ would be introduced by an external element, e.g., a time-delay line \cite{Roseker2011.time-delay, Roseker2013.time-delay, roling2012, osaka2014}. Instead of using an external element, fast switchings of the magnetic field at target 2 can be employed to coherently store the incident field for a while \cite{Wente2012-storage}. The hyperfine interaction for the case of a magnetic field instantaneously turned off and on again is described by the Hamiltonian given in Eq.~\eqref{eq:NFS_Hamiltonian-hf-switch}. 
%Practically, such fast switchings can be realized in ...
Instead of using the general scheme considered in Eq.~\eqref{eq:NFS_Hamiltonian-hf-switch} where the magnetic field can have arbitrary directions before and after switching, we restrict ourselves to a switching sequence with $\bm{B}_2$ pointing along the $x$-axis, for both $\tau<\tau_0$ as well as $\tau>\tau_1$. Simplifying Eqs.~\eqref{eq:NFS_nucl-current-switch-II} and \eqref{eq:NFS_nucl-current-switch-III} to this special case and following the procedure as it has been employed for a prompt rotation of the hyperfine field in Chap.~\ref{chap:pol-control}, we finally obtain the following scattering output (in first order) coming from target 2,
%
\begin{equation}
{\bm{E}^{(1)}}^{\pi}(\xi,\tau) =
\begin{cases} 
\, -\xi \frac{f_{\rm{LM}}}{2} \Big\{ \e^{\i \Omega_{2} \tau} +\e^{-\i \Omega_{2} \tau} \Big\} \e^{-\tau/2} \bm{e}_{\pi} & \text{for}\quad \tau<\tau_0\ , \\
\, -\xi \frac{f_{\rm{LM}}}{2} \Big\{ \e^{\i \Omega_{2} \tau_0} +\e^{-\i \Omega_{2} \tau_0} \Big\} \e^{-\tau/2} \bm{e}_{\pi} & \text{for}\quad \tau_0<\tau<\tau_1\ , \\
\, -\xi \frac{f_{\rm{LM}}}{2} \Big\{ \e^{\i \Omega_{2} (\tau-\tau_1+\tau_0)} +\e^{-\i \Omega_{2} (\tau-\tau_1+\tau_0)} \Big\} \e^{-\tau/2} \bm{e}_{\pi} & \text{for}\quad \tau>\tau_1\ .
\end{cases}
\label{eq:E-target2-switch}
\end{equation}
%


\captionsetup[subfigure]{position=top}
\begin{figure}%
\centering
\subfloat[Quantum beat, $\Phi=0$]{\label{fig:QE-storage-0}\includegraphics[width=0.33\linewidth]{pics/QE-storage-0.eps}}%
%\hspace{2pt}%
\subfloat[Which-way, $\Phi=\frac{\pi}{2}$]{\label{fig:QE-storage-1}\includegraphics[width=0.33\linewidth]{pics/QE-storage-1.eps}}%
%\hspace{12pt}%
\subfloat[Erasing, $\Phi=0$]{\label{fig:QE-storage-2}\includegraphics[width=0.33\linewidth]{pics/QE-storage-2.eps}}%
\caption{Quantum eraser via an intrinsic storage scheme. The first-order intensity spectrum $|\bm{E}^{(1)}_{\rm{out-1}}|^2$ is shown along with the time sequence of magnetic field switchings. The initial quantum beats (a) are first annihilated via a relative phase shift $\Phi=\pi/2$ (b) and subsequently restored by erasing the \textit{which-way} information via a second storage sequence, introducing an additional $\pi/2$ phase shift (c). }
\label{fig:QE-storage}
\end{figure}


Turning the magnetic field instantaneously off at a time instant $\tau_0=(2n+1)\pi/(2\Omega_2)$ ($n=0,1,2,\dots$) which corresponds to a minimum of the quantum beat, results in a strongly suppressed emission at times $\tau_0<\tau<\tau_1$ where $\bm{B}_2=0$. After switching the magnetic field on again at $\tau_1$, the initial emission spectrum is recovered with an amplitude decreased by the exponential decay factor $\e^{-(\tau_1-\tau_0)/2}$. 
%Accordingly, by choosing $\tau_0=...$ the incident x-ray photon is stored inside the nuclear target and released after the magnetic field is switched on again.  
By using this storage scheme, a time delay $\Delta\tau = \tau_1-\tau_0$ (corresponding to the storage time) can be induced in comparison to the scattered field from target 1. Plugging Eq.~\eqref{eq:E-target1} and Eq.~\eqref{eq:E-target2-switch} into Eqs.~\eqref{eq:E-out}, leads for times $\tau>\tau_1$ qualitatively to the same behavior as an external time delay line as given in Eqs.~\eqref{eq:E-out-general} with the replacement $\beta' \mapsto \beta$. Choosing a setup with $\Delta\tau=\pi/(2\Omega_2)$ and an incident linear polarization of $45^{\circ}$ ($\alpha=\beta=1/\sqrt{2}$) marks the two frequency slits ($\ell=-2$ and $\ell=2$) by orthogonal polarization states, accomplishing the destruction of the interference pattern as shown in Fig.~\ref{fig:QE-storage-1}. In order to restore the interference ability between the two scattering path ways, it is possible to either make use of a polarizer to project on the $\sigma$- and $\pi$-polarization basis as done in Fig.~\ref{fig:QE-final} or to apply a second magnetic field switching introducing another relative time delay of $\pi/(2\Omega_2)$. The latter scenario is illustrated in Fig.~\ref{fig:QE-storage-2} where the cancellation of the interference pattern and its subsequent recovery can be followed in dependence on the sequence of magnetic field switchings. 

In contrast to an external time delay line, the intrinsic photon storage requires no adjustment of the incident polarization away from 45$^{\circ}$ [see Eq.~\eqref{eq:alpha-beta}] to accomplish the erasing scheme. Moreover, time delays longer than a few ns seem to be easier feasible and additional degrees of control abilities like B-field rotations are accessible, in comparison to external time delay lines. However, in order to apply switchings of the magnetic field in the first place, special iron samples without intrinsic Zeeman splitting like stainless steel are necessary. Turning magnetic fields of a few Tesla rapidly off and on may be realized according to Ref.~\cite{thesis-Wente} by two methods: (i) high-voltage snapper capacitors can be employed to regulate the pulse currents in magnetic coils; (ii) with the help of the lighthouse effect \cite{Roehlsberger2004} the nuclear sample can be quickly moved out of the region where the magnetic field is applied. The scenario with an external time delay element on the other hand does not require any switching schemes, opening the possibility to make use of the high intrinsic hyperfine field occuring in magnetized FeBO$_3$ targets.




%It is straightforward to generalize Eqs.~\eqref{eq:E-out-general} to independent effective target thicknesses $\xi_1$ and $\xi_2$. In this case, the factor $\e^{\Delta\tau/2}$ can be also absorbed by $\xi_2$, instead of $\beta$ as it is done in Eqs.~\eqref{eq:E-out-general}. The adjustment of the relative magnitude between $\xi_1$ and $\xi_2$ makes it possible to get completely rid of the quantum interference similarly to Eqs.~\eqref{eq:E-out-QE} where the initial polarization of the incident SR pulse has been adapted. However, the target thicknesses $\xi_1$ and $\xi_2$ are confined to the region where the single scattering approximation is still the dominant scattering order.


%The interference between the two scattering paths can be described analogously to a double slit and is visible in the form of quantum beats in the intensity spectrum. 











